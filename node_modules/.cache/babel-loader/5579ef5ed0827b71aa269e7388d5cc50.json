{"ast":null,"code":"import _classCallCheck from \"/Users/melodyvsl/Desktop/vidly/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melodyvsl/Desktop/vidly/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melodyvsl/Desktop/vidly/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melodyvsl/Desktop/vidly/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melodyvsl/Desktop/vidly/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melodyvsl/Desktop/vidly/src/component/movies.jsx\";\nimport React, { Component } from 'react';\nimport Pagination from './common/pagination';\nimport ListGroup from './common/listGroup';\nimport { getGenres } from '../servises/fakeGenreService';\nimport { paginate } from '../utils/paginate';\nimport { getMovies } from '../servises/fakeMovieService';\n\nvar Movies =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Movies, _Component);\n\n  function Movies() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Movies);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Movies)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      movies: [],\n      genres: ['love', 'romantic', 'heart'],\n      currentPage: 1,\n      pageSize: 4\n    };\n\n    _this.handleDelete = function (movie) {\n      var movies = _this.state.movies.filter(function (m) {\n        return m._id !== movie._id;\n      });\n\n      _this.setState({\n        movies: movies\n      });\n    };\n\n    _this.handlePageChange = function (page) {\n      _this.setState({\n        currentPage: page\n      });\n    };\n\n    _this.handleGenreSelect = function (genre) {\n      console.log('love with melody', genre);\n    };\n\n    return _this;\n  }\n\n  _createClass(Movies, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        movies: getMovies(),\n        genres: getGenres()\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log('love with melody', this.state.genre);\n      var count = this.state.movies.length; //length = this.state.movies.length\n\n      var _this$state = this.state,\n          pageSize = _this$state.pageSize,\n          currentPage = _this$state.currentPage,\n          allMovies = _this$state.movies;\n      if (count === 0) return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, \"There is no movies in the database.\");\n      var movies = paginate(allMovies, currentPage, pageSize); // inja ham ye arraye jadid sakhtim ke etelaatesh paginate shode beshe va az fni ke dar paginate.js hast estefade kardim barash va dar bakhshaye dge ham in movies ro be onvane array estefade kardim\n\n      return React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(ListGroup, {\n        items: this.state.genre,\n        onItemSelect: this.handleGenreSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"Showing \", count, \" movies in the database.\"), React.createElement(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Genre\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Stock\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Rate\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, movies.map(function (movie) {\n        return React.createElement(\"tr\", {\n          key: movie._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, movie.title), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, movie.genre.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, movie.numberInStock), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, movie.dailyRentalRate), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this2.handleDelete(movie);\n          },\n          className: \"btn btn-danger btn-sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"Delete\")));\n      }))), React.createElement(Pagination, {\n        itemsCount: count,\n        pageSize: pageSize,\n        currentPage: currentPage,\n        onPageChange: this.handlePageChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Movies;\n}(Component);\n\nexport default Movies;","map":{"version":3,"sources":["/Users/melodyvsl/Desktop/vidly/src/component/movies.jsx"],"names":["React","Component","Pagination","ListGroup","getGenres","paginate","getMovies","Movies","state","movies","genres","currentPage","pageSize","handleDelete","movie","filter","m","_id","setState","handlePageChange","page","handleGenreSelect","genre","console","log","count","length","allMovies","map","title","name","numberInStock","dailyRentalRate"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Pagination from './common/pagination';\nimport ListGroup from './common/listGroup';\nimport { getGenres } from '../servises/fakeGenreService';\nimport { paginate } from '../utils/paginate';\nimport { getMovies } from '../servises/fakeMovieService';\n\nclass Movies extends Component {\n  state = {\n    movies: [],\n    genres: ['love', 'romantic', 'heart'],\n    currentPage: 1,\n    pageSize: 4,\n  };\n\n  componentDidMount() {\n    this.setState({ movies: getMovies(), genres: getGenres() });\n  }\n\n  handleDelete = movie => {\n    const movies = this.state.movies.filter(m => m._id !== movie._id);\n    this.setState({ movies });\n  };\n\n  handlePageChange = page => {\n    this.setState({ currentPage: page });\n  };\n\n  handleGenreSelect = genre => {\n    console.log('love with melody', genre);\n  };\n\n  render() {\n    console.log('love with melody', this.state.genre);\n    const { length: count } = this.state.movies; //length = this.state.movies.length\n    const { pageSize, currentPage, movies: allMovies } = this.state;\n    if (count === 0) return <p>There is no movies in the database.</p>;\n    const movies = paginate(allMovies, currentPage, pageSize); // inja ham ye arraye jadid sakhtim ke etelaatesh paginate shode beshe va az fni ke dar paginate.js hast estefade kardim barash va dar bakhshaye dge ham in movies ro be onvane array estefade kardim\n    return (\n      <div className=\"row\">\n        <div className=\"col-2\">\n          <ListGroup items={this.state.genre} onItemSelect={this.handleGenreSelect} />\n        </div>\n        <div className=\"col\">\n          <p>Showing {count} movies in the database.</p>\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>Title</th>\n                <th>Genre</th>\n                <th>Stock</th>\n                <th>Rate</th>\n                <th />\n              </tr>\n            </thead>\n            <tbody>\n              {movies.map(movie => (\n                <tr key={movie._id}>\n                  <td>{movie.title}</td>\n                  <td>{movie.genre.name}</td>\n                  <td>{movie.numberInStock}</td>\n                  <td>{movie.dailyRentalRate}</td>\n                  <td>\n                    <button\n                      onClick={() => this.handleDelete(movie)}\n                      className=\"btn btn-danger btn-sm\"\n                    >\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          <Pagination\n            itemsCount={count}\n            pageSize={pageSize}\n            currentPage={currentPage}\n            onPageChange={this.handlePageChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Movies;\n"]},"metadata":{},"sourceType":"module"}